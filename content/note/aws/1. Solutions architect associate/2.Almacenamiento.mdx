---
title: Almacenamiento
description: Los servicios de almacenamiento de Amazon Web Services (AWS) permiten almacenar y recuperar cualquier cantidad de datos en cualquier momento, desde cualquier lugar.
author: Carlos Antonio Castillo Blas
date: "2021-01-28"
tags:
  [
    "Amazon Web Services",
    "AWS",
    "S3",
    "Amazon Simple Storage Service",
    "Almacenamiento",
    "Cloud",
    "Nube",
    "Objetos",
    "Storage",
  ]
---

### Tipos de almacenamiento

#### Almacenamiento de bloques

- Usado en redes locales.
- Se accede a los datos mediante bloques de datos.

#### Almacenamiento en archivos

- Almacenamiento en objetos
- Se accede a los datos mediante archivos.

### servicios de almacenamiento de AWS

- **S3** (Simple Storage Service) - Permite almacenar y recuperar cualquier cantidad de datos en cualquier momento, desde cualquier lugar.

- **S3 Glacier** - Almacenamiento de datos de bajo coste, con una latencia de recuperación de 3 a 5 horas.

- **CloudFront** - Servicio de distribución de contenido web.
- **Elastic Block Store** - Almacenamiento de bloques de datos.
- **Storage Gateway** - Servicio de almacenamiento híbrido.
- **Snow Family** - Servicio migracion y almacenamiento de datos.

## Simple Storage Service (S3)

- Almacenamiento de objetos.
- Almacenamiento en almenos 3 zonas de disponibilidad.
- Soporte para el cifrado y la clasificación automatica
- Implementación de Big Data

### Conceptos

#### Buckets

Se llama así al contenedor de objetos en S3. Cada bucket tiene un nombre único en todo el mundo.

#### Regiones

Las regiones son ubicaciones geográficas que contienen al menos una zona de disponibilidad, u cada zona de disponibilidad es un data center físico independiente.

#### Objetos

Los objetos son los archivos que se almacenan en S3. Cada objeto tiene un nombre único dentro de un bucket.

#### Claves

Las claves son los nombres de los objetos. Cada objeto tiene una clave única dentro de un bucket.

#### Url del objeto

La url del objeto es la dirección web que se utiliza para acceder a un objeto.

#### Constistencia eventual

La consistencia eventual es un modelo de consistencia de datos en el que los datos pueden estar disponibles con un retraso de hasta 1 segundo.

#### Sitios estaticos

S3 es perfecto para almacenar sitios web estáticos, como páginas HTML, imágenes, CSS, JavaScript, etc.

### Funciones avanzadas

#### Prefijos y delimitadores

Como no existe jeraquía de carpetas, se puede simular con el uso de prefijos y delimitadores. Los prefijos son cadenas de caracteres que se añaden al principio de las claves de los objetos. Los delimitadores delimintan los prefijos. ejemplo de prefijo: `carpeta1/` y de delimitador: `/`

#### Clases de almacenamiento

- **Standard** - Almacenamiento estándar.
- **S3 infrequent access** - Almacenamiento de acceso infrecuente.
- **S3 reduced redundancy** - Almacenamiento de redundancia reducida.
- **s3 Glacier** - Almacenamiento de bajo coste.

#### cifrado

Para la seguridad de los datos, se puede cifrar los datos en el cliente o en aws.

#### Versionado

El versionado permite mantener múltiples versiones de un objeto. Se puede habilitar o deshabilitar el versionado de un bucket.

#### Multi-Factor Authentication delete (MFA delete)

El MFA delete permite eliminar un objeto solo si se proporciona un código de autenticación de dos factores.

#### GETs de rango

Los GETs de rango permiten recuperar un rango de bytes de un objeto.

#### Replicación entre Regiones

La replicación entre regiones permite replicar los objetos de un bucket a otro bucket en otra región.

#### Registros

Los registros permiten registrar las operaciones de acceso a los objetos.

#### Notification de eventos

Las notificaciones de eventos permiten recibir notificaciones cuando se producen eventos en un bucket.

### Acceso a S3

- **S3 Console** - Interfaz web de administración.
- **S3 API** - Interfaz de programación de aplicaciones.
- **S3 CLI** - Interfaz de línea de comandos.
- **S3 SDK** - Software de desarrollo de kit.
- **Amazon direct connect** - Conexión directa a AWS.
- **Storage Gateway** - Servicio de almacenamiento híbrido.

## AWS Glacier

- Almacenamiento de datos de archivado.
- Almacenamiento de bajo coste.
- Latencia de recuperación de 3 a 5 horas.
- Almacenamiento de datos de larga duración.
- Almacenamiento de datos de backup.
- Almacenamiento cifrado con AES 256.
- Tiene 3 metodo de recuperación:
  - **Expedited** (acelerado) - 1 a 5 minutos.
  - **Standard** (estandar) - 3 a 5 horas.
  - **Bulk** (volumen) - 5 a 12 horas.

### Conceptos

- **Archivo** - Archivo de datos que se almacena en Glacier. En s3 se llama objeto.
- **Bóveda** - Contenedor de archivos en Glacier. En s3 se llama bucket.
- **Cerradura de bóveda** - Cifrado de los datos en Glacier.

## Elastic Block Store (EBS)

Este servicio permite almacener datos en bloques de almacenamiento de disco duro. Se puede usar como disco duro de un EC2.

- Almacenamiento duradero de instalcias EC2.
- Trabaja a nivel de bloque de un servicio de AWS.
- Snapshots de almacenamiento : Copia exacta en un momento dado, se puede usar para crear volúmenes o restaurar volúmenes.
- Métodos cifrados
- Hay dos tipos:
  - **Magnetico** - Almacenamiento de bajo coste.
  - **SSD** - Almacenamiento de alto rendimiento.
    - **gp2** - Propósito general. maximo 10.000 IOPS(operaciones de entrada/salida por segundo)
    - **PIOPS** - Almacenamiento de alto rendimiento. maximo 20.000 IOPS

## Elastic File System (EFS)

Este servicio permite almacenar datos en un sistema de archivos de red NFS (Network File System) nativo en la nube, elastico y escalable.

- Compartido : Los datos se pueden compartir entre instalcias EC2.
- Jerárquico : Los datos se pueden organizar en carpetas.
- Se puede acceder por el protocolo NFSV4 (Network File System Version 4)
- Las instancias EC2 pueden usar recursos compartidos de EFS
- No es compatible con Windows

## AWS Storage Gateway

- El dispositivo de software crea la puerta de enlace entre los datos locales y los datos en la nube
- Permite 3 tipos de almacenamiento:
  - **Volumen de almacenamiento** - Almacenamiento de datos de bloque.
  - **Cinta** - Almacenamiento de datos de cinta.
  - **Archivo** - Almacenamiento de datos de archivo.
